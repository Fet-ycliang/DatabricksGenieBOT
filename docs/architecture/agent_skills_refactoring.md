# Agent Skills æ¶æ§‹é‡æ§‹åˆ†æèˆ‡å»ºè­°

**æ—¥æœŸ**ï¼š2026-02-16
**ç•¶å‰ç‹€æ…‹**ï¼šSkills å·²å‰µå»ºä½†æœªä½¿ç”¨
**å»ºè­°**ï¼šéšæ®µæ€§é‡æ§‹ï¼Œå¹³è¡¡æ”¶ç›Šèˆ‡æˆæœ¬

---

## ğŸ“‹ ç›®éŒ„

1. [ç•¶å‰ç‹€æ…‹åˆ†æ](#ç•¶å‰ç‹€æ…‹åˆ†æ)
2. [Agent Skills æ˜¯ä»€éº¼](#agent-skills-æ˜¯ä»€éº¼)
3. [å·²æœ‰çš„ Skills](#å·²æœ‰çš„-skills)
4. [ä½¿ç”¨ Skills çš„å„ªç¼ºé»](#ä½¿ç”¨-skills-çš„å„ªç¼ºé»)
5. [é‡æ§‹å»ºè­°](#é‡æ§‹å»ºè­°)
6. [å¯¦æ–½è·¯ç·šåœ–](#å¯¦æ–½è·¯ç·šåœ–)
7. [æˆæœ¬æ•ˆç›Šåˆ†æ](#æˆæœ¬æ•ˆç›Šåˆ†æ)
8. [æœ€çµ‚å»ºè­°](#æœ€çµ‚å»ºè­°)

---

## ğŸ” ç•¶å‰ç‹€æ…‹åˆ†æ

### ç¾æœ‰æ¶æ§‹ï¼ˆå–®é«”å¼ï¼‰

```
bot/handlers/bot.py (MyBot)
â”œâ”€ on_message_activity()          # è¨Šæ¯è™•ç†
â”œâ”€ on_members_added_activity()    # æˆå“¡åŠ å…¥
â”œâ”€ _run_dialog()                  # SSO Dialog
â”œâ”€ _process_genie_message()       # Genie æŸ¥è©¢
â”œâ”€ _process_genie_question()      # å•é¡Œè™•ç†
â”œâ”€ _handle_invoke_activity()      # å›é¥‹è™•ç†
â””â”€ ... å…¶ä»–æ–¹æ³•
```

**ç‰¹é»**ï¼š
- âœ… ç°¡å–®ç›´æ¥
- âœ… æ˜“æ–¼ç†è§£
- âš ï¸ å–®ä¸€æ–‡ä»¶ç´„ 400+ è¡Œ
- âš ï¸ è·è²¬æ··é›œï¼ˆèªè­‰ã€æŸ¥è©¢ã€å¡ç‰‡ç”Ÿæˆï¼‰
- âš ï¸ é›£ä»¥ç¨ç«‹æ¸¬è©¦å„å€‹åŠŸèƒ½

### å·²å‰µå»ºçš„ Skillsï¼ˆæœªä½¿ç”¨ï¼‰

åœ¨ `.agent/skills/` ç›®éŒ„ä¸‹ï¼Œå·²æœ‰ä»¥ä¸‹ skillsï¼š

```
.agent/skills/
â”œâ”€â”€ bot_core_skill/         âœ… å®Œæ•´å¯¦ç¾ï¼ˆ400+ è¡Œï¼‰
â”œâ”€â”€ authentication_skill/   âœ… å®Œæ•´å¯¦ç¾
â”œâ”€â”€ command_skill/          âœ… å®Œæ•´å¯¦ç¾
â”œâ”€â”€ identity_skill/         âœ… å®Œæ•´å¯¦ç¾
â”œâ”€â”€ calendar_skill/         ğŸ“ æ¡†æ¶å­˜åœ¨
â”œâ”€â”€ mail_skill/            ğŸ“ æ¡†æ¶å­˜åœ¨
â”œâ”€â”€ teams_skill/           ğŸ“ æ¡†æ¶å­˜åœ¨
â””â”€â”€ onedrive_skill/        ğŸ“ æ¡†æ¶å­˜åœ¨
```

**å•é¡Œ**ï¼š
- âŒ é€™äº› skills å®Œå…¨æ²’æœ‰è¢« `bot/handlers/bot.py` ä½¿ç”¨
- âŒ å­˜åœ¨é‡è¤‡çš„é‚è¼¯ï¼ˆbot.py å’Œ skills éƒ½æœ‰å¯¦ç¾ï¼‰
- âŒ ç¶­è­·å…©å¥—ä»£ç¢¼

---

## ğŸ¯ Agent Skills æ˜¯ä»€éº¼ï¼Ÿ

### æ¦‚å¿µ

**Agent Skills** æ˜¯ä¸€ç¨®**æ¨¡çµ„åŒ–æ¶æ§‹æ¨¡å¼**ï¼Œå°‡ Bot çš„åŠŸèƒ½æ‹†åˆ†æˆç¨ç«‹ã€å¯é‡ç”¨çš„æŠ€èƒ½æ¨¡çµ„ã€‚

### é¡æ¯”

```
å–®é«”å¼ Bot = ç‘å£«åˆ€ï¼ˆæ‰€æœ‰åŠŸèƒ½åœ¨ä¸€èµ·ï¼‰
Skills Bot = å·¥å…·ç®±ï¼ˆæ¯å€‹å·¥å…·ç¨ç«‹ï¼Œå¯æŒ‰éœ€ä½¿ç”¨ï¼‰
```

### Skills æ¶æ§‹

```
Bot Framework Adapter
        â†“
    Bot Orchestratorï¼ˆå”èª¿å™¨ï¼‰
        â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Skill Routerï¼ˆè·¯ç”±å™¨ï¼‰      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â†“    â†“    â†“    â†“    â†“
    â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”â”Œâ”€â”€â”€â”€â”
    â”‚Coreâ”‚â”‚Authâ”‚â”‚Cmd â”‚â”‚Genieâ”‚â”‚Cardâ”‚
    â”‚æŠ€èƒ½â”‚â”‚æŠ€èƒ½â”‚â”‚æŠ€èƒ½â”‚â”‚æŠ€èƒ½ â”‚â”‚æŠ€èƒ½â”‚
    â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜â””â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ å·²æœ‰çš„ Skills è©³ç´°åˆ†æ

### 1. BotCoreSkillï¼ˆæ ¸å¿ƒæŠ€èƒ½ï¼‰âœ…

**æª”æ¡ˆ**ï¼š`.agent/skills/bot_core_skill/scripts/bot_core_skill.py`

**åŠŸèƒ½**ï¼š
- âœ… æˆå“¡åŠ å…¥è™•ç†ï¼ˆæ­¡è¿è¨Šæ¯ï¼‰
- âœ… è¨Šæ¯è·¯ç”±
- âœ… å°è©±ä¸Šä¸‹æ–‡ç®¡ç†
- âœ… Reset å‘½ä»¤
- âœ… Help å‘½ä»¤

**ç¨‹å¼ç¢¼**ï¼š400+ è¡Œï¼Œå®Œæ•´å¯¦ç¾

**æ•¸æ“šæ¨¡å‹**ï¼š
```python
@dataclass
class ConversationContext:
    user_id: str
    conversation_id: Optional[str]
    user_name: Optional[str]
    user_email: Optional[str]
    authenticated: bool
    last_activity: datetime

@dataclass
class MessageResponse:
    text: Optional[str]
    card_data: Optional[Dict]
    suggested_actions: Optional[List[str]]
    requires_auth: bool
```

**ä¸»è¦æ–¹æ³•**ï¼š
- `handle_member_added()` - è™•ç†æ–°æˆå“¡
- `handle_message()` - è™•ç†è¨Šæ¯
- `handle_reset()` - é‡ç½®å°è©±
- `get_conversation_context()` - ç²å–ä¸Šä¸‹æ–‡
- `update_authentication_status()` - æ›´æ–°èªè­‰ç‹€æ…‹

### 2. AuthenticationSkillï¼ˆèªè­‰æŠ€èƒ½ï¼‰âœ…

**é æœŸåŠŸèƒ½**ï¼š
- SSO æµç¨‹ç®¡ç†
- Token é©—è­‰
- Email æå–ï¼ˆèˆ‡ EmailExtractor é‡ç–Šï¼‰

### 3. CommandSkillï¼ˆå‘½ä»¤æŠ€èƒ½ï¼‰âœ…

**é æœŸåŠŸèƒ½**ï¼š
- `/help` å‘½ä»¤
- `/reset` å‘½ä»¤
- `/whoami` å‘½ä»¤
- `/setuser` å‘½ä»¤

### 4. IdentitySkillï¼ˆèº«ä»½æŠ€èƒ½ï¼‰âœ…

**é æœŸåŠŸèƒ½**ï¼š
- ç”¨æˆ¶è³‡è¨Šç®¡ç†
- Session ç®¡ç†

### 5. å…¶ä»– Skillsï¼ˆæ¡†æ¶ï¼‰

- **CalendarSkill**ï¼šæœªä¾†æ•´åˆ M365 æ—¥æ›†
- **MailSkill**ï¼šæœªä¾†æ•´åˆ M365 éƒµä»¶
- **TeamsSkill**ï¼šTeams ç‰¹å®šåŠŸèƒ½
- **OneDriveSkill**ï¼šOneDrive æ•´åˆ

---

## âš–ï¸ ä½¿ç”¨ Skills çš„å„ªç¼ºé»

### âœ… å„ªé»

#### 1. **æ¨¡çµ„åŒ–å’Œé—œæ³¨é»åˆ†é›¢**
```python
# å–®é«”å¼ï¼ˆæ··é›œï¼‰
class MyBot:
    def on_message(self, context):
        # èªè­‰é‚è¼¯
        # å‘½ä»¤è™•ç†
        # Genie æŸ¥è©¢
        # å¡ç‰‡ç”Ÿæˆ
        # éŒ¯èª¤è™•ç†
        # å…¨éƒ¨æ··åœ¨ä¸€èµ· âŒ
```

```python
# Skillsï¼ˆåˆ†é›¢ï¼‰
class BotOrchestrator:
    def on_message(self, context):
        if not auth_skill.is_authenticated():
            return auth_skill.handle()

        if command_skill.is_command(message):
            return command_skill.handle()

        return genie_skill.handle()
        # æ¸…æ™°æ˜ç¢º âœ…
```

#### 2. **å¯æ¸¬è©¦æ€§**

```python
# å–®é«”å¼ - é›£ä»¥æ¸¬è©¦
def test_help_command():
    bot = MyBot(...)  # éœ€è¦å®Œæ•´åˆå§‹åŒ–
    # éœ€è¦ mock GenieService, Config, State...
    result = await bot.on_message(...)
    # æ¸¬è©¦å›°é›£

# Skills - æ˜“æ–¼æ¸¬è©¦
def test_help_command():
    skill = CommandSkill()  # ç¨ç«‹åˆå§‹åŒ–
    result = await skill.handle_help()
    assert result.text.startswith("ğŸ“–")
    # æ¸¬è©¦ç°¡å–® âœ…
```

#### 3. **å¯é‡ç”¨æ€§**

```python
# Skills å¯ä»¥åœ¨ä¸åŒ Bot ä¸­é‡ç”¨
from agent.skills import CommandSkill, AuthenticationSkill

# Bot Aï¼ˆDatabricks Genie Botï¼‰
bot_a = BotOrchestrator([
    AuthenticationSkill(),
    CommandSkill(),
    GenieSkill()
])

# Bot Bï¼ˆå¦ä¸€å€‹å°ˆæ¡ˆï¼‰
bot_b = BotOrchestrator([
    AuthenticationSkill(),  # é‡ç”¨
    CommandSkill(),         # é‡ç”¨
    CalendarSkill()
])
```

#### 4. **æ˜“æ–¼æ“´å±•**

æ–°å¢åŠŸèƒ½åªéœ€æ·»åŠ æ–° Skillï¼š

```python
# æ·»åŠ æ–°åŠŸèƒ½
class WeatherSkill:
    async def handle(self, message):
        # å¤©æ°£æŸ¥è©¢é‚è¼¯
        pass

# è¨»å†Šåˆ° Bot
bot.register_skill(WeatherSkill())
```

#### 5. **ç¨ç«‹é–‹ç™¼å’Œç¶­è­·**

åœ˜éšŠæˆå“¡å¯ä»¥ç¨ç«‹é–‹ç™¼ä¸åŒçš„ Skillsï¼š
- æˆå“¡ Aï¼šé–‹ç™¼ GenieSkill
- æˆå“¡ Bï¼šé–‹ç™¼ CalendarSkill
- æˆå“¡ Cï¼šé–‹ç™¼ AuthenticationSkill

ç„¡éœ€å”èª¿ï¼Œæ¸›å°‘åˆä½µè¡çªã€‚

---

### âŒ ç¼ºé»

#### 1. **å¢åŠ è¤‡é›œåº¦**

```
å–®é«”å¼: 1 å€‹æ–‡ä»¶ï¼ˆbot.pyï¼‰
Skills:
- 1 å€‹å”èª¿å™¨ï¼ˆorchestrator.pyï¼‰
- N å€‹ Skillsï¼ˆbot_core_skill.py, auth_skill.py...ï¼‰
- 1 å€‹è·¯ç”±å™¨ï¼ˆskill_router.pyï¼‰
- å…±äº«æ•¸æ“šæ¨¡å‹
```

ç†è§£å’Œç¶­è­·æˆæœ¬å¢åŠ ã€‚

#### 2. **éåº¦å·¥ç¨‹åŒ–ï¼ˆå°å°å‹å°ˆæ¡ˆï¼‰**

**å¦‚æœåªæœ‰ 1-2 å€‹é–‹ç™¼è€…**ï¼ŒSkills æ¶æ§‹å¯èƒ½æ˜¯ overkillï¼š
- å¢åŠ æª”æ¡ˆæ•¸é‡
- å¢åŠ æŠ½è±¡å±¤
- ä½†åœ˜éšŠå¤ªå°ï¼Œç„¡æ³•ç™¼æ®å„ªå‹¢

#### 3. **é‡æ§‹æˆæœ¬é«˜**

é·ç§»åˆ° Skills æ¶æ§‹éœ€è¦ï¼š
- é‡å¯« `bot/handlers/bot.py`ï¼ˆ400+ è¡Œï¼‰
- èª¿æ•´æ‰€æœ‰æ¸¬è©¦
- ç¢ºä¿åŠŸèƒ½å®Œå…¨ä¸€è‡´
- **é ä¼°æ™‚é–“ï¼š2-3 å¤©**

#### 4. **ç‹€æ…‹ç®¡ç†æ›´è¤‡é›œ**

```python
# å–®é«”å¼ - ç°¡å–®
class MyBot:
    def __init__(self):
        self.user_sessions = {}  # ç›´æ¥è¨ªå•

# Skills - éœ€è¦å…±äº«
class BotOrchestrator:
    def __init__(self):
        self.session_manager = SessionManager()

    def init_skills(self):
        # æ¯å€‹ Skill éœ€è¦è¨ªå• SessionManager
        self.auth_skill = AuthSkill(self.session_manager)
        self.genie_skill = GenieSkill(self.session_manager)
        # ä¾è³´æ³¨å…¥è®Šè¤‡é›œ
```

#### 5. **èª¿è©¦æ›´å›°é›£**

éŒ¯èª¤å¯èƒ½ç™¼ç”Ÿåœ¨ï¼š
- Orchestrator
- Skill Router
- ç‰¹å®š Skill
- Skills ä¹‹é–“çš„äº¤äº’

éœ€è¦è¿½è¹¤å¤šå€‹å±¤ç´šã€‚

---

## ğŸ’¡ é‡æ§‹å»ºè­°

### é¸é … 1ï¼šä¿æŒç•¶å‰æ¶æ§‹ï¼ˆæ¨è–¦ï¼‰â­

**é©ç”¨å ´æ™¯**ï¼š
- åœ˜éšŠ < 3 äºº
- Bot åŠŸèƒ½ç©©å®š
- ç¶­è­·ç°¡å–®ç‚ºä¸»

**è¡Œå‹•**ï¼š
1. âœ… ä¿æŒ `bot/handlers/bot.py` å–®é«”æ¶æ§‹
2. âœ… ç¹¼çºŒä½¿ç”¨å·¥å…·æ¨¡çµ„ï¼ˆEmailExtractor, SessionManagerï¼‰
3. âœ… å°‡ `.agent/skills/` æ¨™è¨˜ç‚º"æœªä¾†åƒè€ƒ"
4. âœ… æ–‡æª”åŒ–ç•¶å‰æ¶æ§‹

**æˆæœ¬**ï¼šé›¶ï¼ˆç„¡éœ€é‡æ§‹ï¼‰

---

### é¸é … 2ï¼šæ··åˆæ¶æ§‹ï¼ˆæŠ˜è¡·ï¼‰â­â­

**é©ç”¨å ´æ™¯**ï¼š
- æƒ³è¦éƒ¨åˆ†æ¨¡çµ„åŒ–
- ä¸æƒ³å…¨é¢é‡æ§‹
- ä¿ç•™å½ˆæ€§

**æ¶æ§‹**ï¼š

```
bot/handlers/bot.py (MyBot)
    â†“
ä½¿ç”¨éƒ¨åˆ† Skills ä½œç‚º**è¼”åŠ©æ¨¡çµ„**
    â†“
â”œâ”€ CommandSkill.handle_help()      # ä½¿ç”¨ Skill
â”œâ”€ CommandSkill.handle_reset()     # ä½¿ç”¨ Skill
â”œâ”€ ç›´æ¥èª¿ç”¨ GenieService.ask()     # ä¿æŒåŸæ¨£
â””â”€ ç›´æ¥ç”Ÿæˆå¡ç‰‡                     # ä¿æŒåŸæ¨£
```

**å¯¦æ–½**ï¼š
```python
# bot/handlers/bot.py
from agent.skills.command_skill import CommandSkill

class MyBot(ActivityHandler):
    def __init__(self, ...):
        # ...
        self.command_skill = CommandSkill()

    async def on_message_activity(self, turn_context):
        message = turn_context.activity.text

        # ä½¿ç”¨ CommandSkill è™•ç†å‘½ä»¤
        if message.startswith("/"):
            response = await self.command_skill.handle(message)
            await turn_context.send_activity(response.text)
            return

        # å…¶ä»–é‚è¼¯ä¿æŒä¸è®Š
        await self._process_genie_message(turn_context, session)
```

**æˆæœ¬**ï¼š1-2 å¤©ï¼ˆéƒ¨åˆ†æ•´åˆï¼‰

**å„ªé»**ï¼š
- âœ… å‘½ä»¤è™•ç†æ¨¡çµ„åŒ–
- âœ… ä¿ç•™ä¸»è¦é‚è¼¯ä¸è®Š
- âœ… é¢¨éšªè¼ƒä½

---

### é¸é … 3ï¼šå®Œå…¨ Skills æ¶æ§‹ï¼ˆä¸æ¨è–¦ç›®å‰ï¼‰

**é©ç”¨å ´æ™¯**ï¼š
- åœ˜éšŠ > 5 äºº
- éœ€è¦é«˜åº¦æ¨¡çµ„åŒ–
- å¤šå€‹ Bot å°ˆæ¡ˆå…±äº«ä»£ç¢¼

**æ¶æ§‹**ï¼š

```
Bot Framework Adapter
    â†“
BotOrchestrator (æ–°å»º)
    â†“
SkillRouter (æ–°å»º)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CoreSkillâ”‚AuthSkillâ”‚GenieSkillâ”‚CardSkillâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**éœ€è¦å‰µå»º**ï¼š
1. `bot/orchestrator.py` - Bot å”èª¿å™¨
2. `bot/skill_router.py` - Skill è·¯ç”±å™¨
3. `bot/skills/genie_skill.py` - Genie Skill
4. `bot/skills/card_skill.py` - Card Skill
5. é‡å¯«æ‰€æœ‰æ¸¬è©¦

**æˆæœ¬**ï¼š3-5 å¤©ï¼ˆå®Œå…¨é‡æ§‹ï¼‰

**é¢¨éšª**ï¼š
- âš ï¸ å¯èƒ½å¼•å…¥æ–° bug
- âš ï¸ éœ€è¦å¤§é‡æ¸¬è©¦
- âš ï¸ åœ˜éšŠå­¸ç¿’æ›²ç·š

**ç‚ºä»€éº¼ä¸æ¨è–¦**ï¼š
- ç•¶å‰åœ˜éšŠè¦æ¨¡å°
- Bot åŠŸèƒ½ç›¸å°ç°¡å–®
- æŠ•è³‡å›å ±ç‡ä½

---

## ğŸ—“ï¸ å¯¦æ–½è·¯ç·šåœ–

### å¦‚æœé¸æ“‡æ··åˆæ¶æ§‹ï¼ˆé¸é … 2ï¼‰

#### éšæ®µ 1ï¼šæ•´åˆ CommandSkillï¼ˆ1 å¤©ï¼‰

**ç›®æ¨™**ï¼šå°‡å‘½ä»¤è™•ç†æå–åˆ° Skill

**æ­¥é©Ÿ**ï¼š

1. **æª¢è¦–ç¾æœ‰ CommandSkill**
   ```bash
   # æŸ¥çœ‹ .agent/skills/command_skill/
   ```

2. **ç§»å‹•åˆ°ä¸»ä»£ç¢¼åº«**
   ```bash
   # è¤‡è£½åˆ° bot/skills/
   cp -r .agent/skills/command_skill bot/skills/
   ```

3. **æ•´åˆåˆ° MyBot**
   ```python
   # bot/handlers/bot.py
   from bot.skills.command_skill import CommandSkill

   class MyBot(ActivityHandler):
       def __init__(self, ...):
           self.command_skill = CommandSkill()

       async def on_message_activity(self, turn_context):
           message = turn_context.activity.text

           # ä½¿ç”¨ Skill è™•ç†å‘½ä»¤
           if self.command_skill.can_handle(message):
               response = await self.command_skill.handle(message, turn_context)
               await turn_context.send_activity(response.text)
               return

           # å…¶ä»–é‚è¼¯ä¸è®Š
           await self._process_genie_message(...)
   ```

4. **ç§»é™¤èˆŠä»£ç¢¼**
   - åˆªé™¤ `bot/handlers/commands.py` çš„ç›¸é—œéƒ¨åˆ†
   - æ›´æ–°æ¸¬è©¦

5. **æ¸¬è©¦**
   ```bash
   pytest tests/test_command_skill.py
   ```

**é æœŸçµæœ**ï¼š
- âœ… å‘½ä»¤è™•ç†æ¨¡çµ„åŒ–
- âœ… MyBot ä»£ç¢¼æ¸›å°‘ç´„ 50 è¡Œ
- âœ… å‘½ä»¤é‚è¼¯å¯é‡ç”¨

#### éšæ®µ 2ï¼šæå– CardGenerationSkillï¼ˆ1 å¤©ï¼‰

**ç›®æ¨™**ï¼šå°‡å¡ç‰‡ç”Ÿæˆé‚è¼¯æå–

**å‰µå»ºæ–° Skill**ï¼š
```python
# bot/skills/card_skill.py
class CardGenerationSkill:
    async def create_welcome_card(self, user_session):
        # å¾ bot.py ç§»å‹•ä»£ç¢¼
        pass

    async def create_result_card(self, genie_response):
        # å¾ bot.py ç§»å‹•ä»£ç¢¼
        pass
```

#### éšæ®µ 3ï¼šè©•ä¼°æ•ˆæœï¼ˆ2 é€±å¾Œï¼‰

**æŒ‡æ¨™**ï¼š
- ä»£ç¢¼å¯è®€æ€§æå‡ï¼Ÿ
- æ¸¬è©¦è¦†è“‹ç‡æå‡ï¼Ÿ
- é–‹ç™¼é€Ÿåº¦æå‡ï¼Ÿ
- æ˜¯å¦å¼•å…¥æ–°å•é¡Œï¼Ÿ

**æ±ºç­–é»**ï¼š
- âœ… æ•ˆæœå¥½ â†’ ç¹¼çºŒé‡æ§‹å…¶ä»–éƒ¨åˆ†
- âš ï¸ æ•ˆæœæ™®é€š â†’ åœæ­¢ï¼Œä¿æŒç¾ç‹€
- âŒ æ•ˆæœå·® â†’ å›é€€

---

## ğŸ’° æˆæœ¬æ•ˆç›Šåˆ†æ

### é¸é … 1ï¼šä¿æŒç¾ç‹€

| é …ç›® | å€¼ |
|------|-----|
| **é‡æ§‹æˆæœ¬** | 0 å°æ™‚ |
| **å­¸ç¿’æˆæœ¬** | 0 å°æ™‚ |
| **ç¶­è­·æˆæœ¬** | ä½ï¼ˆç†Ÿæ‚‰çš„æ¶æ§‹ï¼‰|
| **å¯æ“´å±•æ€§** | ä¸­ |
| **åœ˜éšŠå”ä½œ** | ä¸­ |
| **ç¸½æˆæœ¬** | **æœ€ä½** â­ |

**çµè«–**ï¼šé©åˆå°åœ˜éšŠã€åŠŸèƒ½ç©©å®šçš„å°ˆæ¡ˆ

---

### é¸é … 2ï¼šæ··åˆæ¶æ§‹

| é …ç›® | å€¼ |
|------|-----|
| **é‡æ§‹æˆæœ¬** | 8-16 å°æ™‚ |
| **å­¸ç¿’æˆæœ¬** | 4-8 å°æ™‚ |
| **ç¶­è­·æˆæœ¬** | ä¸­ï¼ˆéƒ¨åˆ†æ¨¡çµ„åŒ–ï¼‰|
| **å¯æ“´å±•æ€§** | ä¸­-é«˜ |
| **åœ˜éšŠå”ä½œ** | ä¸­-é«˜ |
| **ç¸½æˆæœ¬** | **ä¸­ç­‰** |

**æŠ•è³‡å›å ±**ï¼š
- å‘½ä»¤è™•ç†ç¨ç«‹æ¸¬è©¦
- éƒ¨åˆ†ä»£ç¢¼å¯é‡ç”¨
- ä¸»è¦é‚è¼¯ä¸è®Šï¼ˆé¢¨éšªä½ï¼‰

**çµè«–**ï¼šé©åˆ**è¨ˆç•«æ“´å±•åŠŸèƒ½**çš„å°ˆæ¡ˆ

---

### é¸é … 3ï¼šå®Œå…¨ Skills

| é …ç›® | å€¼ |
|------|-----|
| **é‡æ§‹æˆæœ¬** | 24-40 å°æ™‚ |
| **å­¸ç¿’æˆæœ¬** | 16-24 å°æ™‚ï¼ˆå…¨å“¡ï¼‰|
| **ç¶­è­·æˆæœ¬** | ä¸­-é«˜ï¼ˆè¤‡é›œæ¶æ§‹ï¼‰|
| **å¯æ“´å±•æ€§** | é«˜ |
| **åœ˜éšŠå”ä½œ** | é«˜ï¼ˆ> 5 äººï¼‰|
| **ç¸½æˆæœ¬** | **æœ€é«˜** |

**æŠ•è³‡å›å ±**ï¼š
- é«˜åº¦æ¨¡çµ„åŒ–
- æ˜“æ–¼å¤§åœ˜éšŠå”ä½œ
- å¯é‡ç”¨æ–¼å…¶ä»–å°ˆæ¡ˆ

**çµè«–**ï¼šé©åˆ**å¤§å‹åœ˜éšŠ**æˆ–**å¤š Bot å°ˆæ¡ˆ**

---

## ğŸ¯ æœ€çµ‚å»ºè­°

### åŸºæ–¼ç•¶å‰å°ˆæ¡ˆæƒ…æ³

| å› ç´  | ç•¶å‰ç‹€æ…‹ |
|------|---------|
| åœ˜éšŠè¦æ¨¡ | å°ï¼ˆ1-3 äººï¼‰|
| åŠŸèƒ½è¤‡é›œåº¦ | ä¸­ç­‰ |
| é–‹ç™¼éšæ®µ | ç›¸å°æˆç†Ÿ |
| ä¸»è¦éœ€æ±‚ | ç©©å®šé‹è¡Œ |

### æ¨è–¦æ–¹æ¡ˆï¼š**é¸é … 1ï¼ˆä¿æŒç¾ç‹€ï¼‰** â­â­â­â­â­

#### ç†ç”±

1. **ç•¶å‰æ¶æ§‹å·²ç¶“å¾ˆå¥½**
   - âœ… æœ‰å·¥å…·æ¨¡çµ„ï¼ˆEmailExtractor, SessionManager, ChartAnalyzerï¼‰
   - âœ… æœ‰çµ±ä¸€éŒ¯èª¤è™•ç†å’Œæ—¥èªŒ
   - âœ… æ¸¬è©¦è¦†è“‹ç‡ 96 å€‹æ¸¬è©¦
   - âœ… ä»£ç¢¼çµæ§‹æ¸…æ™°

2. **æŠ•è³‡å›å ±ç‡ä½**
   - å°åœ˜éšŠç„¡æ³•ç™¼æ® Skills çš„å”ä½œå„ªå‹¢
   - é‡æ§‹éœ€è¦ 2-3 å¤©ä½†æ”¶ç›Šæœ‰é™
   - å¯èƒ½å¼•å…¥æ–°å•é¡Œ

3. **å·²æœ‰çš„æ¨¡çµ„åŒ–è¶³å¤ **
   ```
   ç•¶å‰æ¶æ§‹å·²ç¶“æœ‰æ¨¡çµ„åŒ–ï¼š
   â”œâ”€ app/utils/          # å·¥å…·æ¨¡çµ„ âœ…
   â”œâ”€ app/services/       # æœå‹™å±¤ âœ…
   â”œâ”€ app/core/           # æ ¸å¿ƒæ¨¡çµ„ âœ…
   â”œâ”€ bot/handlers/       # Bot è™•ç†å™¨ âœ…
   â””â”€ bot/cards/          # å¡ç‰‡ç”Ÿæˆ âœ…
   ```

4. **é¢¨éšªå°æ–¼æ”¶ç›Š**
   - é‡æ§‹å¯èƒ½å¼•å…¥ bug
   - åœ˜éšŠéœ€è¦å­¸ç¿’æ–°æ¶æ§‹
   - ç¶­è­·è¤‡é›œåº¦å¢åŠ 

---

### ä½•æ™‚é‡æ–°è©•ä¼°ï¼Ÿ

è€ƒæ…®é·ç§»åˆ° Skills çš„æ™‚æ©Ÿï¼š

#### âœ… åœ˜éšŠæ“´å¤§
```
ç•¶å‰ï¼š1-3 äºº â†’ æœªä¾†ï¼š5+ äºº
â†’ Skills å¯ä»¥è®“å¤šäººä¸¦è¡Œé–‹ç™¼
```

#### âœ… åŠŸèƒ½å¤§å¹…æ“´å±•
```
ç•¶å‰ï¼šDatabricks Genie Bot
æœªä¾†ï¼š+ Calendar æ•´åˆ
     + Mail æ•´åˆ
     + OneDrive æ•´åˆ
     + è‡ªè¨‚å ±è¡¨
â†’ Skills å¯ä»¥ç¨ç«‹é–‹ç™¼æ¯å€‹åŠŸèƒ½
```

#### âœ… éœ€è¦å¤šå€‹ Bot å°ˆæ¡ˆ
```
å°ˆæ¡ˆ Aï¼šDatabricks Genie Bot
å°ˆæ¡ˆ Bï¼šå…§éƒ¨åŠ©ç† Bot
å°ˆæ¡ˆ Cï¼šå®¢æœ Bot
â†’ Skills å¯ä»¥è·¨å°ˆæ¡ˆé‡ç”¨
```

#### âœ… æ¸¬è©¦è¦†è“‹ç‡ä¸è¶³
```
ç•¶å‰ï¼š96 å€‹æ¸¬è©¦ï¼Œ100% é€šé
æœªä¾†ï¼šéœ€è¦æ›´ç´°ç²’åº¦çš„æ¸¬è©¦
â†’ Skills æ›´æ˜“æ–¼å–®å…ƒæ¸¬è©¦
```

---

## ğŸ“‹ è¡Œå‹•å»ºè­°

### ç«‹å³ï¼ˆç¾åœ¨ï¼‰

1. **âœ… ä¿æŒç•¶å‰æ¶æ§‹**
   - bot/handlers/bot.py å–®é«”è¨­è¨ˆ
   - ä½¿ç”¨å·¥å…·æ¨¡çµ„ï¼ˆutils/ï¼‰

2. **âœ… æ¨™è¨˜ .agent/skills/ ç‚º"æœªä¾†åƒè€ƒ"**
   - æ·»åŠ  README èªªæ˜é€™äº›æ˜¯å‚™ç”¨æ¶æ§‹
   - ä¿ç•™ä»£ç¢¼ä½†ä¸ä½¿ç”¨

3. **âœ… æ–‡æª”åŒ–æ±ºç­–**
   - è¨˜éŒ„ç‚ºä»€éº¼é¸æ“‡ç•¶å‰æ¶æ§‹
   - è¨˜éŒ„ä½•æ™‚é‡æ–°è©•ä¼°

### çŸ­æœŸï¼ˆ1-3 å€‹æœˆï¼‰

1. **ç›£æ§ç•¶å‰æ¶æ§‹**
   - bot.py æ˜¯å¦è®Šå¾—å¤ªå¤§ï¼ˆ> 600 è¡Œï¼‰ï¼Ÿ
   - æ˜¯å¦é›£ä»¥ç¶­è­·ï¼Ÿ
   - æ˜¯å¦éœ€è¦é »ç¹ä¿®æ”¹å¤šå€‹åœ°æ–¹ï¼Ÿ

2. **è©•ä¼°åœ˜éšŠæˆé•·**
   - åœ˜éšŠæ˜¯å¦æ“´å¤§ï¼Ÿ
   - æ˜¯å¦éœ€è¦ä¸¦è¡Œé–‹ç™¼åŠŸèƒ½ï¼Ÿ

### é•·æœŸï¼ˆ6-12 å€‹æœˆï¼‰

1. **é‡æ–°è©•ä¼° Skills**
   - å¦‚æœåœ˜éšŠ > 5 äºº
   - å¦‚æœåŠŸèƒ½æ“´å±• 2x
   - å¦‚æœéœ€è¦é‡ç”¨ä»£ç¢¼

2. **è©¦é»æ¸¬è©¦**
   - å…ˆæ•´åˆ CommandSkillï¼ˆé¢¨éšªæœ€ä½ï¼‰
   - è©•ä¼°æ•ˆæœ
   - æ±ºå®šæ˜¯å¦ç¹¼çºŒ

---

## ğŸ“š åƒè€ƒè³‡æº

### Skills æ¶æ§‹å­¸ç¿’è³‡æº

- [Bot Framework Skills æ–‡æª”](https://learn.microsoft.com/azure/bot-service/skills-conceptual)
- [Skills è¨­è¨ˆæ¨¡å¼](https://learn.microsoft.com/azure/bot-service/skills-design-patterns)
- [Python Skills ç¯„ä¾‹](https://github.com/microsoft/BotBuilder-Samples/tree/main/samples/python/80.skills-simple-bot-to-bot)

### ç•¶å‰å°ˆæ¡ˆç›¸é—œ

- `docs/architecture_diagram.md` - ç•¶å‰æ¶æ§‹åœ–
- `.agent/skills/bot_core_skill/` - BotCoreSkill å¯¦ç¾
- `bot/handlers/bot.py` - ç•¶å‰ Bot å¯¦ç¾

---

## ğŸ¯ çµè«–

### TL;DR

**å•é¡Œ**ï¼šæ˜¯å¦æ‡‰è©²å»ºç½® agent skills è®“å¾ŒçºŒé–‹ç™¼æ›´é †ï¼Ÿ

**ç­”æ¡ˆ**ï¼š**ç›®å‰ä¸å»ºè­°** â­

**ç†ç”±**ï¼š
1. âœ… ç•¶å‰æ¶æ§‹å·²ç¶“æ¨¡çµ„åŒ–ï¼ˆutils, services, coreï¼‰
2. âœ… åœ˜éšŠè¦æ¨¡å°ï¼Œç„¡æ³•ç™¼æ® Skills å„ªå‹¢
3. âš ï¸ é‡æ§‹æˆæœ¬é«˜ï¼ˆ2-3 å¤©ï¼‰ä½†æ”¶ç›Šæœ‰é™
4. âš ï¸ å¯èƒ½å¼•å…¥æ–°å•é¡Œå’Œè¤‡é›œåº¦

**å»ºè­°**ï¼š
- **ç¾åœ¨**ï¼šä¿æŒç•¶å‰æ¶æ§‹ â­â­â­â­â­
- **6-12 å€‹æœˆå¾Œ**ï¼šç•¶åœ˜éšŠæ“´å¤§æˆ–åŠŸèƒ½å¤§å¹…å¢åŠ æ™‚é‡æ–°è©•ä¼°
- **ä¿ç•™**ï¼š`.agent/skills/` ä½œç‚ºæœªä¾†åƒè€ƒ

### é—œéµæ±ºç­–

```
å°åœ˜éšŠ + åŠŸèƒ½ç©©å®š = ä¿æŒç°¡å–®æ¶æ§‹ âœ…
å¤§åœ˜éšŠ + åŠŸèƒ½æ“´å±• = è€ƒæ…® Skills æ¶æ§‹ â¸ï¸
```

**æœ€é‡è¦çš„åŸå‰‡**ï¼šé¸æ“‡**æœ€ç°¡å–®**ä¸”èƒ½æ»¿è¶³éœ€æ±‚çš„æ¶æ§‹ï¼Œä¸è¦éåº¦å·¥ç¨‹åŒ–ã€‚âœ¨

---

**æ–‡æª”ç‰ˆæœ¬**ï¼š1.0
**ä¸‹æ¬¡è©•ä¼°**ï¼š2026-08-16ï¼ˆ6 å€‹æœˆå¾Œï¼‰
